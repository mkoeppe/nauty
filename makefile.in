# makefile for nauty 2.4, including gtools
# @configure_input@

SHELL=/bin/sh
CC=@CC@
CFLAGS=@CFLAGS@ @MORECFLAGS@
SAFECFLAGS=@CFLAGS@
LDFLAGS=@LIBS@
LOK=@lok@         # 0 if no 64-bit integers
TESTPROGS=@testprogs@
EXEEXT=@EXEEXT@
BIGTEST=1         # set to 0 if less than 512MB is available

SMALL=-DMAXN=WORDSIZE
L1=-DMAXN=WORDSIZE -DWORDSIZE=64
W1=-DMAXN=WORDSIZE -DWORDSIZE=32
S1=-DMAXN=WORDSIZE -DWORDSIZE=16
S=-DWORDSIZE=16
L=-DWORDSIZE=64
FOURK=-DMAXN=4096
PICFLAGS=-fPIC
TESTCFLAGS=-static

NAUTYLIBOBJ= naututil.o nauty.o nautil.o nautinv.o naugraph.o rng.o
GTLIBOBJ=gtools.o gtnauty.o nausparse.o gutil1.o gutil2.o naugroup.o
LIBOBJ=${NAUTYLIBOBJ} ${GTLIBOBJ}

SHNAUTYLIBOBJ= naututil.os nauty.os nautil.os nautinv.os naugraph.os rng.os
SHGTLIBOBJ=gtools.os gtnauty.os nausparse.os gutil1.os gutil2.os naugroup.os
SHLIBOBJ=${SHNAUTYLIBOBJ} ${SHGTLIBOBJ}

STLIB=libnauty.a

ifeq ($(SHARED),yes)
SONAME?=libnauty.so.0
SOMINOR?=.0.0
SHLIB?=$(SONAME)$(SOMINOR)
SHLINK?=libnauty.so
BUILDSHLIBS=$(SONAME) $(SHLIB) $(SHLINK)
LDFLAGS:=-L. -lnauty  $(LDFLAGS)
else
BUILDSHLIBS=
endif

DESTDIR=
GTOOLSBIN=copyg listg labelg dretog amtog geng complg shortg showg NRswitchg \
  biplabg addedgeg deledgeg countg pickg genrang newedgeg catg genbg directg \
  multig planarg gentourng
BINARIES=$(GTOOLSBIN) dreadnaut

.SUFFIXES: .os
.c.os:
	${CC} -c ${PICFLAGS} ${CFLAGS} -o $@ $<

%.o: %.c
	${CC} -c ${CFLAGS} -o $@ $<

.PHONY: all nauty libs gtools install clean

all : nauty gtools ;

nauty : dreadnaut ;

LIBS=$(STLIB) $(BUILDSHLIBS)
libs: $(LIBS)

gtools: $(GTOOLSBIN)

$(SHLIB): $(SHLIBOBJ)
	gcc -shared -Wl,-soname=$(SONAME) -o $(SONAME)$(SOMINOR) $(SHLIBOBJ)

$(SONAME): $(SHLIB)
	rm -f $@ && ln -s $(SHLIB) $@

$(SHLINK): $(SONAME)
	rm -f $@ && ln -s $(SONAME) $@

install-shlibs: $(SHLIB)
	 mkdir -p $(DESTDIR)/usr/lib
	 install -t $(DESTDIR)/usr/lib $(SHLIB)
	 cd $(DESTDIR)/usr/lib && ln -sf $(SONAME) $(SHLINK) && ln -sf $(SHLIB) $(SONAME)

install:
	 mkdir -p $(DESTDIR)/usr/bin
	 install -t $(DESTDIR)/usr/bin $(BINARIES)

install-dev:
	 mkdir -p $(DESTDIR)/usr/include
	 install -t $(DESTDIR)/usr/include nauty.h
	 mkdir -p $(DESTDIR)/usr/lib
	 install -t $(DESTDIR)/usr/lib $(STLIB)

$(STLIB): $(LIBOBJ)
	ar r $@ $(LIBOBJ)

rng.o: rng.c
	${CC} -c ${CFLAGS} rng.c

dreadnaut: dreadnaut.c $(LIBS)
	${CC} -o dreadnaut ${SAFECFLAGS} dreadnaut.c   ${LDFLAGS}

naututil.o: nauty.h naututil.h naututil.c
nautil.o: nauty.h nautil.c
nauty.o: nauty.h nauty.c
nautinv.o: nauty.h naututil.h nautinv.c
nautaux.o: nautaux.h nauty.h naututil.h nautaux.c
naugraph.o: nauty.h naugraph.c
nausparse.o : nauty.h nausparse.h nausparse.c

dreadnaut1: dreadnaut.c naututil1.o nauty1.o nautil1.o \
            nautinv1.o naugraph1.o rng.o
	${CC} -o dreadnaut1 ${SAFECFLAGS} ${SMALL} dreadnaut.c naututil1.o \
	    nauty1.o nautil1.o nautinv1.o naugraph1.o rng.o ${LDFLAGS}
naututil1.o: nauty.h naututil.h naututil.c
	${CC} -c ${CFLAGS} ${SMALL} -o naututil1.o naututil.c
nautil1.o: nauty.h nautil.c
	${CC} -c ${CFLAGS} ${SMALL} -o nautil1.o nautil.c
nauty1.o: nauty.h nauty.c
	${CC} -c ${CFLAGS} ${SMALL} -o nauty1.o nauty.c
nautinv1.o: nauty.h naututil.h nautinv.c
	${CC} -c ${CFLAGS} ${SMALL} -o nautinv1.o nautinv.c
nautaux1.o: nautaux.h nauty.h naututil.h nautaux.c
	${CC} -c ${CFLAGS} ${SMALL} -o nautaux1.o nautaux.c
naugraph1.o: nauty.h naugraph.c
	${CC} -c ${CFLAGS} ${SMALL} -o naugraph1.o naugraph.c

dreadnaut4K: dreadnaut.c naututil4K.o nauty4K.o nautil4K.o \
             nautinv4K.o naugraph4K.o rng.o
	${CC} -o dreadnaut4K ${SAFECFLAGS} ${FOURK} dreadnaut.c naututil4K.o \
	     nauty4K.o nautil4K.o nautinv4K.o naugraph4K.o rng.o ${LDFLAGS}
naututil4K.o: nauty.h naututil.h naututil.c
	${CC} -c ${CFLAGS} ${FOURK} -o naututil4K.o naututil.c
nautil4K.o: nauty.h nautil.c
	${CC} -c ${CFLAGS} ${FOURK} -o nautil4K.o nautil.c
nauty4K.o: nauty.h nauty.c
	${CC} -c ${CFLAGS} ${FOURK} -o nauty4K.o nauty.c
nautinv4K.o: nauty.h naututil.h nautinv.c
	${CC} -c ${CFLAGS} ${FOURK} -o nautinv4K.o nautinv.c
nautaux4K.o: nautaux.h nauty.h naututil.h nautaux.c
	${CC} -c ${CFLAGS} ${FOURK} -o nautaux4K.o nautaux.c
naugraph4K.o: nauty.h naugraph.c
	${CC} -c ${CFLAGS} ${FOURK} -o naugraph4K.o naugraph.c

dreadnautL1: dreadnaut.c naututilL1.o nautyL1.o nautilL1.o nautinvL1.o \
	     naugraphL1.o rng.o
	${CC} -o dreadnautL1 ${SAFECFLAGS} ${L1} dreadnaut.c naututilL1.o \
	     nautyL1.o nautilL1.o nautinvL1.o naugraphL1.o rng.o ${LDFLAGS}
naututilL1.o: nauty.h naututil.h naututil.c
	${CC} -c ${CFLAGS} ${L1} -o naututilL1.o naututil.c
nautilL1.o: nauty.h nautil.c
	${CC} -c ${CFLAGS} ${L1} -o nautilL1.o nautil.c
nautyL1.o: nauty.h nauty.c
	${CC} -c ${CFLAGS} ${L1} -o nautyL1.o nauty.c
nautinvL1.o: nauty.h naututil.h nautinv.c
	${CC} -c ${CFLAGS} ${L1} -o nautinvL1.o nautinv.c
nautauxL1.o: nautaux.h nauty.h naututil.h nautaux.c
	${CC} -c ${CFLAGS} ${L1} -o nautauxL1.o nautaux.c
naugraphL1.o: nauty.h naugraph.c
	${CC} -c ${CFLAGS} ${L1} -o naugraphL1.o naugraph.c

dreadnautW1: dreadnaut.c naututilW1.o nautyW1.o nautilW1.o nautinvW1.o \
	     naugraphW1.o rng.o
	${CC} -o dreadnautW1 ${SAFECFLAGS} ${W1} dreadnaut.c naututilW1.o \
	     nautyW1.o nautilW1.o nautinvW1.o naugraphW1.o rng.o ${LDFLAGS}
naututilW1.o: nauty.h naututil.h naututil.c
	${CC} -c ${CFLAGS} ${W1} -o naututilW1.o naututil.c
nautilW1.o: nauty.h nautil.c
	${CC} -c ${CFLAGS} ${W1} -o nautilW1.o nautil.c
nautyW1.o: nauty.h nauty.c
	${CC} -c ${CFLAGS} ${W1} -o nautyW1.o nauty.c
nautinvW1.o: nauty.h naututil.h nautinv.c
	${CC} -c ${CFLAGS} ${W1} -o nautinvW1.o nautinv.c
nautauxW1.o: nautaux.h nauty.h naututil.h nautaux.c
	${CC} -c ${CFLAGS} ${W1} -o nautauxW1.o nautaux.c
naugraphW1.o: nauty.h naugraph.c
	${CC} -c ${CFLAGS} ${W1} -o naugraphW1.o naugraph.c
gtoolsW1.o : gtools.h gtools.c
	${CC} -c ${CFLAGS} ${W1} -o gtoolsW1.o gtools.c 


dreadnautS1: dreadnaut.c naututilS1.o nautyS1.o nautilS1.o nautinvS1.o \
	     naugraphS1.o rng.o
	${CC} -o dreadnautS1 ${SAFECFLAGS} ${S1} dreadnaut.c naututilS1.o \
	     nautyS1.o nautilS1.o nautinvS1.o naugraphS1.o rng.o ${LDFLAGS}
naututilS1.o: nauty.h naututil.h naututil.c
	${CC} -c ${CFLAGS} ${S1} -o naututilS1.o naututil.c
nautilS1.o: nauty.h nautil.c
	${CC} -c ${CFLAGS} ${S1} -o nautilS1.o nautil.c
nautyS1.o: nauty.h nauty.c
	${CC} -c ${CFLAGS} ${S1} -o nautyS1.o nauty.c
nautinvS1.o: nauty.h naututil.h nautinv.c
	${CC} -c ${CFLAGS} ${S1} -o nautinvS1.o nautinv.c
nautauxS1.o: nautaux.h nauty.h naututil.h nautaux.c
	${CC} -c ${CFLAGS} ${S1} -o nautauxS1.o nautaux.c
naugraphS1.o: nauty.h naugraph.c
	${CC} -c ${CFLAGS} ${S1} -o naugraphS1.o naugraph.c

dreadnautL: dreadnaut.c naututilL.o nautyL.o nautilL.o nautinvL.o \
	     naugraphL.o rng.o
	${CC} -o dreadnautL ${SAFECFLAGS} ${L} dreadnaut.c naututilL.o \
	     nautyL.o nautilL.o nautinvL.o naugraphL.o rng.o ${LDFLAGS}
naututilL.o: nauty.h naututil.h naututil.c
	${CC} -c ${CFLAGS} ${L} -o naututilL.o naututil.c
nautilL.o: nauty.h nautil.c
	${CC} -c ${CFLAGS} ${L} -o nautilL.o nautil.c
nautyL.o: nauty.h nauty.c
	${CC} -c ${CFLAGS} ${L} -o nautyL.o nauty.c
nautinvL.o: nauty.h naututil.h nautinv.c
	${CC} -c ${CFLAGS} ${L} -o nautinvL.o nautinv.c
nautauxL.o: nautaux.h nauty.h naututil.h nautaux.c
	${CC} -c ${CFLAGS} ${L} -o nautauxL.o nautaux.c
naugraphL.o: nauty.h naugraph.c
	${CC} -c ${CFLAGS} ${L} -o naugraphL.o naugraph.c

dreadnautS: dreadnaut.c naututilS.o nautyS.o nautilS.o nautinvS.o \
	     naugraphS.o rng.o
	${CC} -o dreadnautS ${SAFECFLAGS} ${S} dreadnaut.c naututilS.o \
	     nautyS.o nautilS.o nautinvS.o naugraphS.o rng.o ${LDFLAGS}
naututilS.o: nauty.h naututil.h naututil.c
	${CC} -c ${CFLAGS} ${S} -o naututilS.o naututil.c
nautilS.o: nauty.h nautil.c
	${CC} -c ${CFLAGS} ${S} -o nautilS.o nautil.c
nautyS.o: nauty.h nauty.c
	${CC} -c ${CFLAGS} ${S} -o nautyS.o nauty.c
nautinvS.o: nauty.h naututil.h nautinv.c
	${CC} -c ${CFLAGS} ${S} -o nautinvS.o nautinv.c
nautauxS.o: nautaux.h nauty.h naututil.h nautaux.c
	${CC} -c ${CFLAGS} ${S} -o nautauxS.o nautaux.c
naugraphS.o: nauty.h naugraph.c
	${CC} -c ${CFLAGS} ${S} -o naugraphS.o naugraph.c

clean:
	rm -f *.o config.log config.cache config.status
	rm -f dreadtest${EXEEXT} dreadtestL${EXEEXT} \
		dreadtestS${EXEEXT} dreadtestS1${EXEEXT} \
	        dreadtest4K${EXEEXT} dreadtest1${EXEEXT} \
		dreadtestL1${EXEEXT} dreadtestW1${EXEEXT}
	rm -f libnauty.* *.os

gtools.h : nauty.h naututil.h nausparse.h
	touch gtools.h

gtools.o : gtools.h gtools.c
	${CC} -c ${CFLAGS} gtools.c

gtnauty.o : gtools.h gtnauty.c
	${CC} -c ${CFLAGS} gtnauty.c

gutil1.o : gtools.h gutils.h gutil1.c
	${CC} -c ${CFLAGS} gutil1.c

gutil2.o : gtools.h gutils.h gutil2.c
	${CC} -c ${CFLAGS} gutil2.c

catg : gtools.h catg.c $(LIBS)
	${CC} -o catg ${CFLAGS} catg.c ${LDFLAGS}

copyg : gtools.h copyg.c $(LIBS)
	${CC} -o copyg ${CFLAGS} copyg.c ${LDFLAGS}

listg : gtools.h listg.c $(LIBS)
	${CC} -o listg ${CFLAGS} listg.c  ${LDFLAGS}

labelg : gtools.h naututil.h labelg.c $(LIBS)
	${CC} -o labelg ${SAFECFLAGS} labelg.c ${LDFLAGS}

shortg : gtools.h shortg.c $(LIBS)
	${CC} -o shortg ${CFLAGS} shortg.c ${LDFLAGS}

dretog : gtools.h dretog.c $(LIBS)
	${CC} -o dretog ${CFLAGS} dretog.c ${LDFLAGS}

amtog : gtools.h amtog.c $(LIBS)
	${CC} -o amtog ${CFLAGS} amtog.c ${LDFLAGS}

genbg : gtools.h genbg.c gtoolsW1.o nautyW1.o nautilW1.o naugraphW1.o
	${CC} -o genbg ${CFLAGS} ${W1} genbg.c gtoolsW1.o \
		nautyW1.o nautilW1.o naugraphW1.o ${LDFLAGS}

genbgL : gtools.h genbg.c gtoolsL1.o nautyL1.o nautilL1.o naugraphL1.o
	${CC} -o genbgL ${CFLAGS} ${L1} -DMAXN1=30 genbg.c gtoolsL1.o \
	    nautyL1.o nautilL1.o naugraphL1.o ${LDFLAGS}

geng : gtools.h geng.c  nauty1.o nautil1.o naugraph1.o
	${CC} -o geng ${CFLAGS} -DMAXN=32 geng.c  nauty1.o \
		nautil1.o naugraph1.o ${LDFLAGS}

geng16 : gtools.h geng.c  nauty1.o nautil1.o naugraph1.o
	${CC} -o geng16 ${CFLAGS} -DMAXN=16 geng.c  nauty1.o \
		nautil1.o naugraph1.o ${LDFLAGS}

geng24 : gtools.h geng.c  nauty1.o nautil1.o naugraph1.o
	${CC} -o geng24 ${CFLAGS} -DMAXN=24 geng.c  nauty1.o \
		nautil1.o naugraph1.o ${LDFLAGS}

gentourng : gtools.h gentourng.c gtools.o nauty1.o nautil1.o naugraph1.o
	${CC} -o gentourng ${CFLAGS} -DMAXN=24 gentourng.c gtools.o nauty1.o \
		nautil1.o naugraph1.o ${LDFLAGS}

genrang : gtools.h genrang.c $(LIBS)
	${CC} -o genrang ${CFLAGS} genrang.c ${LDFLAGS}

complg : gtools.h complg.c 
	${CC} -o complg ${CFLAGS} complg.c ${LDFLAGS}

biplabg : gtools.h biplabg.c $(LIBS)
	${CC} -o biplabg ${CFLAGS} biplabg.c  ${LDFLAGS}

NRswitchg : gtools.h NRswitchg.c $(LIBS)
	${CC} -o NRswitchg ${CFLAGS} NRswitchg.c ${LDFLAGS}

deledgeg : gtools.h deledgeg.c $(LIBS)
	${CC} -o deledgeg ${CFLAGS} deledgeg.c ${LDFLAGS}

addedgeg : gtools.h addedgeg.c $(LIBS)
	${CC} -o addedgeg ${CFLAGS} addedgeg.c   ${LDFLAGS}

newedgeg : gtools.h newedgeg.c $(LIBS)
	${CC} -o newedgeg ${CFLAGS} newedgeg.c ${LDFLAGS}

pickg : gtools.h testg.c splay.c $(LIBS)
	${CC} -o pickg ${SAFECFLAGS} testg.c ${LDFLAGS}

countg : gtools.h testg.c splay.c $(LIBS)
	${CC} -o countg ${SAFECFLAGS} testg.c  ${LDFLAGS}

directg : gtools.h naugroup.h directg.c $(LIBS)
	${CC} -o directg ${CFLAGS} directg.c  ${LDFLAGS}

multig : gtools.h naugroup.h multig.c $(LIBS)
	${CC} -o multig ${CFLAGS} multig.c ${LDFLAGS}

planarg : gtools.h planarg.c  planarity.c $(LIBS)
	${CC} -o planarg ${CFLAGS} planarg.c planarity.c  ${LDFLAGS}

showg : showg.c
	${CC} -o showg ${CFLAGS} showg.c ${LDFLAGS}

readg :
	echo "*** readg is now called showg ***"
	make showg

gtoolsL1.o : gtools.h gtools.c
	${CC} -c ${CFLAGS} ${L1} -o gtoolsL1.o gtools.c

gtnautyL1.o : gtools.h gtnauty.c
	${CC} -c ${CFLAGS} ${L1} -o gtnautyL1.o gtnauty.c

sumlines : sumlines.c
	${CC} -o sumlines ${CFLAGS} sumlines.c ${LDFLAGS} -lgmp

nautyex1 : nauty.h nauty.o nautil.o naugraph.o nautyex1.c
	${CC} -o nautyex1 ${CFLAGS} nautyex1.c nauty.o nautil.o \
		naugraph.o ${LDFLAGS}

nautyex2 : nauty.h nauty.o nautil.o naugraph.o nautyex2.c
	${CC} -o nautyex2 ${CFLAGS} \
		nautyex2.c nauty.o nautil.o naugraph.o ${LDFLAGS}

naugroup.o : nauty.h naugroup.h naugroup.c
	${CC} -c ${CFLAGS} naugroup.c

nautyex3 : nauty.h nauty.o nautil.o naugraph.o naugroup.o nautyex3.c
	${CC} -o nautyex3 ${CFLAGS} \
		nautyex3.c nauty.o nautil.o naugraph.o naugroup.o ${LDFLAGS}

nautyex4 : nauty.h nausparse.h nauty.o nautil.o \
		nausparse.o naugroup.o nautyex4.c
	${CC} -o nautyex4 ${CFLAGS} \
		nautyex4.c nauty.o nautil.o nausparse.o naugroup.o ${LDFLAGS}

nautyex5 : nauty.h nausparse.h nauty.o nautil.o \
		nausparse.o naugroup.o nautyex5.c
	${CC} -o nautyex5 ${CFLAGS} \
		nautyex5.c nauty.o nautil.o nausparse.o naugroup.o ${LDFLAGS}

dreadtest: dreadtest.c naututil.o nauty.o nautil.o nautinv.o naugraph.o rng.o
	${CC} -o dreadtest ${TESTCFLAGS} ${SAFECFLAGS} dreadtest.c \
	    naututil.o nauty.o nautil.o nautinv.o naugraph.o rng.o ${LDFLAGS}
	./dreadtest <testS.dre
	./dreadtest <testW.dre
	./dreadtest <testL.dre
	./dreadtest <testM.dre
	./dreadtest <testa.dre
	test ${BIGTEST} -eq 0 || ./dreadtest < testB.dre
	rm dreadtest${EXEEXT}

dreadtestL: dreadtest.c \
		naututilL.o nautyL.o nautilL.o nautinvL.o naugraphL.o rng.o
	${CC} -o dreadtestL ${TESTCFLAGS}  ${SAFECFLAGS} ${L} dreadtest.c naututilL.o \
	    nautyL.o nautilL.o nautinvL.o naugraphL.o rng.o ${LDFLAGS}
	./dreadtestL < testS.dre
	./dreadtestL < testW.dre
	./dreadtestL < testL.dre
	./dreadtestL < testM.dre
	./dreadtestL < testa.dre
	rm dreadtestL${EXEEXT}

dreadtestS: dreadtest.c \
		naututilS.o nautyS.o nautilS.o nautinvS.o naugraphS.o rng.o
	${CC} -o dreadtestS ${TESTCFLAGS} ${SAFECFLAGS} ${S} dreadtest.c naututilS.o \
	    nautyS.o nautilS.o nautinvS.o naugraphS.o rng.o ${LDFLAGS}
	./dreadtestS < testS.dre
	./dreadtestS < testW.dre
	./dreadtestS < testL.dre
	./dreadtestS < testM.dre
	./dreadtestS < testa.dre
	rm dreadtestS${EXEEXT}

dreadtest4K: dreadtest.c \
		naututil4K.o nauty4K.o nautil4K.o nautinv4K.o naugraph4K.o rng.o
	${CC} -o dreadtest4K ${TESTCFLAGS} ${SAFECFLAGS} ${FOURK} dreadtest.c naututil4K.o \
	    nauty4K.o nautil4K.o nautinv4K.o naugraph4K.o rng.o ${LDFLAGS}
	./dreadtest4K <testS.dre
	./dreadtest4K <testW.dre
	./dreadtest4K < testM.dre
	rm dreadtest4K${EXEEXT}

dreadtest1: dreadtest.c \
		naututil1.o nauty1.o nautil1.o nautinv1.o naugraph1.o rng.o
	${CC} -o dreadtest1 ${TESTCFLAGS} ${SAFECFLAGS} ${SMALL} dreadtest.c naututil1.o \
	    nauty1.o nautil1.o nautinv1.o naugraph1.o rng.o ${LDFLAGS}
	./dreadtest1 < testS.dre
	./dreadtest1 < testW.dre
	rm dreadtest1${EXEEXT}

dreadtestL1: dreadtest.c \
		naututilL1.o nautyL1.o nautilL1.o nautinvL1.o naugraphL1.o rng.o
	${CC} -o dreadtestL1 ${TESTCFLAGS} ${SAFECFLAGS} ${L1} dreadtest.c naututilL1.o \
	    nautyL1.o nautilL1.o nautinvL1.o naugraphL1.o rng.o ${LDFLAGS}
	./dreadtestL1 <testS.dre
	./dreadtestL1 <testW.dre
	./dreadtestL1 <testL.dre
	rm dreadtestL1${EXEEXT}

dreadtestW1: dreadtest.c \
		naututilW1.o nautyW1.o nautilW1.o nautinvW1.o naugraphW1.o rng.o
	${CC} -o dreadtestW1 ${TESTCFLAGS} ${SAFECFLAGS} ${W1} dreadtest.c naututilW1.o \
	    nautyW1.o nautilW1.o nautinvW1.o naugraphW1.o rng.o ${LDFLAGS}
	./dreadtestW1 <testS.dre
	./dreadtestW1 <testW.dre
	rm dreadtestW1${EXEEXT}

dreadtestS1: dreadtest.c \
		naututilS1.o nautyS1.o nautilS1.o nautinvS1.o naugraphS1.o rng.o
	${CC} -o dreadtestS1 ${TESTCFLAGS} ${SAFECFLAGS} ${S1} dreadtest.c naututilS1.o \
	    nautyS1.o nautilS1.o nautinvS1.o naugraphS1.o rng.o ${LDFLAGS}
	./dreadtestS1 <testS.dre

checks: ${TESTPROGS}

checks6: checks6.c gtools.h gtools.o
	${CC} -o checks6 ${SAFECFLAGS} checks6.c gtools.o

bigs: gtnauty.o gutil2.o nausparse.o nautil.o naututil.o gtools.o \
	naugraph.o nautaux.o nautinv.o nauty.o
	rm -f gtnautyB.o gutil2B.o nausparseB.o nautilB.o naututilB.o \
	  gtoolsB.o naugraphB.o nautauxB.o nautinvB.o nautyB.o
	cp gtnauty.o gtnautyB.o
	cp gutil2.o gutil2B.o
	cp nausparse.o nausparseB.o
	cp nautil.o nautilB.o
	cp naututil.o naututilB.o
	cp gtools.o gtoolsB.o
	cp naugraph.o naugraphB.o
	cp nautaux.o nautauxB.o
	cp nautinv.o nautinvB.o
	cp nauty.o nautyB.o

# @edit_msg@
